<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Crazy Quiz</title>
<style>
* {margin:0;padding:0;box-sizing:border-box;}
html, body {width:100%;height:100%;font-family:Arial,sans-serif;overflow:hidden;}
#overlay {
  position:fixed;top:0;left:0;width:100%;height:100%;
  background:rgba(0,0,0,0.9);color:white;
  display:flex;justify-content:center;align-items:center;
  text-align:center;font-size:24px;padding:20px;
  z-index:10000;
}
#overlay.hidden {display:none;}

/* Telas */
.screen {
  display:flex;flex-direction:column;justify-content:center;
  align-items:center;width:100%;height:100%;text-align:center;
  background-color:#2031ED;color:white;font-size:24px;
  position:absolute;top:0;left:0;
}
.screen:not(.visible) {display:none;}

/* Bot√µes */
button, .menu-btn {
  cursor:pointer;transition: transform 0.1s ease;
  color: white !important;
  font-weight:bold;
}
button:hover, .menu-btn:hover {transform: scale(1.05);}
button:active, .menu-btn:active {transform: scale(0.95);}

.menu-btn.menu {
  width:200px;font-size:20px;padding:15px 0;
  background:#FFD700;border:none;border-radius:10px;margin:10px 0;
}

#quizContent .menu-btn {
  width:100%;padding:20px 0;font-size:22px;
  background:#FFD700;border:none;border-radius:10px;margin:5px 0;
}

/* Modal */
.modal {
  display:none;position:fixed;top:0;left:0;width:100%;height:100%;
  background:rgba(0,0,0,0.8);justify-content:center;align-items:center;
  color:white;z-index:10001;
}
.modal-content {
  background:#2031ED;padding:20px;border-radius:10px;text-align:center;max-width:90%;
}
.close-btn {
  margin-top:15px;padding:10px 20px;font-size:18px;
  border:none;border-radius:8px;background:#FFD700;color:white !important;
}

/* Quiz layout */
#options {display:grid;grid-template-columns:1fr 1fr;gap:25px;margin-top:50px;width:80%;}

/* Bot√µes fixos sempre vis√≠veis */
#soundBtn, #fullscreenBtn, #exitBtn {
  position:fixed;
  background:#FFD700;color:white !important;
  border:none;border-radius:12px;
  font-weight:bold;z-index:9999;
  transition:transform 0.2s ease, background 0.2s ease;
}
#soundBtn {top:15px;right:15px;padding:12px 20px;font-size:16px;}
#fullscreenBtn {bottom:15px;right:15px;width:65px;height:65px;font-size:22px;border-radius:50%;}
#exitBtn {top:15px;left:15px;padding:12px 20px;font-size:16px;display:none;}
#soundBtn:hover, #fullscreenBtn:hover, #exitBtn:hover {transform:scale(1.1);}
#soundBtn:active, #fullscreenBtn:active, #exitBtn:active {transform:scale(0.95);}

/* Bloqueio global de clique */
body * {pointer-events:none !important;}
.clicavel {pointer-events:auto !important;}
</style>
</head>
<body>

<!-- Som de clique -->
<audio id="clickSound" src="click.mp3"></audio>

<div id="overlay">Por favor, gire seu dispositivo para modo horizontal!</div>

<!-- Bot√µes fixos -->
<button id="soundBtn" class="clicavel">Som: OFF</button>
<button id="fullscreenBtn" class="clicavel">‚õ∂</button>
<button id="exitBtn" class="clicavel">Sair</button>

<!-- Menu -->
<div class="screen visible" id="mainContent">
  <h1>Crazy Quiz</h1>
  <br>
  <button class="menu-btn menu clicavel" id="playBtn">Jogar</button>
  <button class="menu-btn menu clicavel" id="creditsBtn">Cr√©ditos</button>
</div>

<!-- Quiz -->
<div class="screen" id="quizContent">
  <h2 id="questionTitle"></h2>
  <div id="options"></div>
</div>

<!-- Derrota -->
<div class="screen" id="lostContent">
  <h2>Voc√™ errou! üò¢</h2>
  <p>Tente novamente!</p>
  <button class="menu-btn menu clicavel" id="retryBtn">Recome√ßar</button>
</div>

<!-- Vit√≥ria -->
<div class="screen" id="winContent">
  <h2>Parab√©ns! üéâ</h2>
  <p>Voc√™ completou todas as perguntas!</p>
  <button class="menu-btn menu clicavel" id="restartBtn">Jogar Novamente</button>
</div>

<!-- Modal Cr√©ditos -->
<div class="modal" id="creditsModal">
  <div class="modal-content">
    <h2>Cr√©ditos</h2>
    <p>Desenvolvido por An√¥nimo Mods, inscreva-se no canal para mais novidades! </p>
    <div style="display:flex;justify-content:center;gap:10px;margin-top:15px;">
      <button class="close-btn clicavel" onclick="closeModal('creditsModal')">Fechar</button>
      <button class="close-btn clicavel" onclick="openYT()" style="background:#FF0000;">YouTube</button>
    </div>
  </div>
</div>

<script>
/********** VARI√ÅVEIS **********/
const screens = {
  main: document.getElementById('mainContent'),
  quiz: document.getElementById('quizContent'),
  lost: document.getElementById('lostContent'),
  win: document.getElementById('winContent')
};
const questionTitle = document.getElementById('questionTitle');
const optionsDiv = document.getElementById('options');
const overlay = document.getElementById('overlay');

const clickSound = document.getElementById('clickSound');
const soundBtn = document.getElementById('soundBtn');
const fullscreenBtn = document.getElementById('fullscreenBtn');
const exitBtn = document.getElementById('exitBtn');

let soundOn = false; // Inicia OFF
let currentQuestion = 0;

const quizData = [
  {q:"Qual √© a capital do Brasil?", options:["Bras√≠lia","S√£o Paulo","Rio de Janeiro","Curitiba"], answer:0},
  {q:"Qual √© o maior oceano do mundo?", options:["Atl√¢ntico","Pac√≠fico","√çndico","√Årtico"], answer:1},
  {q:"Qual √© a moeda do Jap√£o?", options:["Yen","D√≥lar","Euro","Libra"], answer:0},
  {q:"Qual √© o rio mais longo do mundo?", options:["Nilo","Amaz√¥nia","Yangtz√©","Mississippi"], answer:1},
  {q:"Qual √© a montanha mais alta do mundo?", options:["Everest","K2","Kangchenjunga","Lhotse"], answer:0},
  {q:"Quem pintou a Mona Lisa?", options:["Van Gogh","Leonardo da Vinci","Pablo Picasso","Michelangelo"], answer:1},
  {q:"Qual √© o elemento qu√≠mico com s√≠mbolo 'O'?", options:["Ouro","Oxig√™nio","Osmium","√înix"], answer:1},
  {q:"Quem escreveu 'Dom Casmurro'?", options:["Machado de Assis","Jos√© de Alencar","Clarice Lispector","Graciliano Ramos"], answer:0},
  {q:"Qual √© a capital da Fran√ßa?", options:["Paris","Lyon","Marselha","Nice"], answer:0},
  {q:"Qual √© o planeta mais pr√≥ximo do Sol?", options:["V√™nus","Merc√∫rio","Marte","Terra"], answer:1}
];

/********** SOM **********/
function playClick(){ if(soundOn){ clickSound.currentTime=0; clickSound.play(); } }

/********** BLOQUEIO **********/
function bloquearTudo(){ document.querySelectorAll('*').forEach(el=>el.classList.remove('clicavel')); }
function liberarElementos(seletores){ seletores.forEach(sel=>document.querySelectorAll(sel).forEach(el=>el.classList.add('clicavel'))); }
function atualizarCliquesAtivos(){
  bloquearTudo();
  liberarElementos([
    '#playBtn','#creditsBtn','#soundBtn','#fullscreenBtn',
    '#retryBtn','#restartBtn','#questionClick','#options button',
    '.close-btn'
  ]);
  if(screens.quiz.classList.contains('visible')){
    exitBtn.style.display = 'block';
    exitBtn.classList.add('clicavel');
  } else { exitBtn.style.display = 'none'; }
}

/********** TELAS **********/
function showScreen(name){
  for(let k in screens) screens[k].classList.remove('visible');
  screens[name].classList.add('visible');
  atualizarCliquesAtivos();
}

/********** FULLSCREEN TOGGLE **********/
fullscreenBtn.onclick = () => {
    playClick();
    if (!document.fullscreenElement) {
        if (document.documentElement.requestFullscreen) document.documentElement.requestFullscreen();
        else if (document.documentElement.webkitRequestFullscreen) document.documentElement.webkitRequestFullscreen();
    } else {
        if (document.exitFullscreen) document.exitFullscreen();
        else if (document.webkitExitFullscreen) document.webkitExitFullscreen();
    }
};

/********** ORIENTA√á√ÉO CORRIGIDA **********/
function checkOrientation(){
    const isPortrait = window.innerHeight > window.innerWidth;
    if(isPortrait){
        overlay.classList.remove('hidden');
    } else {
        overlay.classList.add('hidden');
        if(screens.quiz.classList.contains('visible')) showScreen('quiz');
        else if(screens.win.classList.contains('visible')) showScreen('win');
        else if(screens.lost.classList.contains('visible')) showScreen('lost');
        else showScreen('main');
    }
}
window.addEventListener('resize', checkOrientation);
window.addEventListener('orientationchange', checkOrientation);
checkOrientation();

/********** MODAL **********/
function openModal(id){ document.getElementById(id).style.display='flex'; playClick(); atualizarCliquesAtivos(); }
function closeModal(id){ document.getElementById(id).style.display='none'; playClick(); atualizarCliquesAtivos(); }

/********** ABRIR YOUTUBE **********/
function openYT() {
    playClick();
    window.open('https://www.youtube.com/@An%C3%B4nimoMods01', '_blank');
}

/********** QUIZ **********/
function initQuiz(){ currentQuestion=0; showQuestion(); showScreen('quiz'); }
function createButton(text,onClick){
  const btn=document.createElement('button');
  btn.textContent=text; btn.className='menu-btn clicavel';
  btn.onclick=()=>{playClick();onClick();};
  return btn;
}
function showQuestion(){
  const q=quizData[currentQuestion];
  optionsDiv.innerHTML="";
  questionTitle.textContent=`Pergunta ${currentQuestion+1}: ${q.q}`;
  for(let i=0;i<4;i++)
    optionsDiv.appendChild(createButton(q.options[i]||"Opcional",()=>checkAnswer(i)));
  atualizarCliquesAtivos();
}
function checkAnswer(selected){
  const q = quizData[currentQuestion];
  selected===q.answer?(currentQuestion++,currentQuestion>=quizData.length?showScreen('win'):showQuestion()):goToLostScreen();
}
function goToLostScreen(){ showScreen('lost'); }

/********** EVENTOS **********/
document.getElementById('playBtn').onclick = () => { playClick(); initQuiz(); }
document.getElementById('creditsBtn').onclick = () => openModal('creditsModal');
document.getElementById('retryBtn').onclick = () => { playClick(); initQuiz(); }
document.getElementById('restartBtn').onclick = () => { playClick(); showScreen('main'); }

// Bot√£o de som inicia OFF e funciona corretamente
soundBtn.textContent = `Som: ${soundOn ? 'ON' : 'OFF'}`;
soundBtn.onclick = () => {
    soundOn = !soundOn;                   // alterna estado do som
    playClick();                           // toca clique se agora estiver ON
    soundBtn.textContent = `Som: ${soundOn ? 'ON' : 'OFF'}`; // atualiza texto
}

// Bot√£o de sair durante o quiz
exitBtn.onclick = () => { playClick(); showScreen('main'); }

/********** INICIALIZA√á√ÉO **********/
atualizarCliquesAtivos();
</script>

</body>
</html> 